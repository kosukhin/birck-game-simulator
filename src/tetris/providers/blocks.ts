import { EMoveDirection } from '~/src/common/types/GameTypes'
import { Rotation } from '~/src/tetris/providers/types'

export const rotationRules: Record<string, any> = {
  turnedLeft: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 0, y: 1 },
    },
    '1': {
      '1': { x: 1, y: 0 },
      '2': { x: 1, y: 1 },
      '3': { x: 1, y: 2 },
      '4': { x: 0, y: 0 },
    },
    '2': {
      '1': { x: 0, y: 1 },
      '2': { x: 1, y: 1 },
      '3': { x: 2, y: 1 },
      '4': { x: 2, y: 0 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 1, y: 2 },
    },
  },
  turnedRight: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 2, y: 1 },
    },
    '1': {
      '1': { x: 1, y: 0 },
      '2': { x: 1, y: 1 },
      '3': { x: 1, y: 2 },
      '4': { x: 0, y: 2 },
    },
    '2': {
      '1': { x: 0, y: 1 },
      '2': { x: 1, y: 1 },
      '3': { x: 2, y: 1 },
      '4': { x: 0, y: 0 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 1, y: 0 },
    },
  },
  blasteroid: {
    '0': {
      '1': { x: 1, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 1, y: 1 },
      '4': { x: 2, y: 1 },
    },
    '1': {
      '1': { x: 1, y: 0 },
      '2': { x: 1, y: 1 },
      '3': { x: 1, y: 2 },
      '4': { x: 0, y: 1 },
    },
    '2': {
      '1': { x: 1, y: 1 },
      '2': { x: 0, y: 0 },
      '3': { x: 1, y: 0 },
      '4': { x: 2, y: 0 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 1, y: 1 },
    },
  },
  movedRight: {
    '0': {
      '1': { x: 1, y: 0 },
      '2': { x: 2, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
    '1': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 1, y: 1 },
      '4': { x: 1, y: 2 },
    },
    '2': {
      '1': { x: 1, y: 0 },
      '2': { x: 2, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 1, y: 1 },
      '4': { x: 1, y: 2 },
    },
  },
  movedLeft: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 1, y: 1 },
      '4': { x: 2, y: 1 },
    },
    '1': {
      '1': { x: 1, y: 0 },
      '2': { x: 1, y: 1 },
      '3': { x: 0, y: 1 },
      '4': { x: 0, y: 2 },
    },
    '2': {
      '1': { x: 2, y: 1 },
      '2': { x: 1, y: 1 },
      '3': { x: 1, y: 0 },
      '4': { x: 0, y: 0 },
    },
    '3': {
      '1': { x: 1, y: 0 },
      '2': { x: 1, y: 1 },
      '3': { x: 0, y: 1 },
      '4': { x: 0, y: 2 },
    },
  },
  lineVertical: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 0, y: 3 },
    },
    '1': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 3, y: 0 },
    },
    '2': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 0, y: 3 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 3, y: 0 },
    },
  },
  lineHorizontal: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 3, y: 0 },
    },
    '1': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 0, y: 3 },
    },
    '2': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 2, y: 0 },
      '4': { x: 3, y: 0 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 0, y: 1 },
      '3': { x: 0, y: 2 },
      '4': { x: 0, y: 3 },
    },
  },
  rectangle: {
    '0': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
    '1': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
    '2': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
    '3': {
      '1': { x: 0, y: 0 },
      '2': { x: 1, y: 0 },
      '3': { x: 0, y: 1 },
      '4': { x: 1, y: 1 },
    },
  },
}

export const rotationDirectionTransitions: Record<
  EMoveDirection.up | EMoveDirection.down,
  EMoveDirection.up | EMoveDirection.down
> = {
  [EMoveDirection.up]: EMoveDirection.down,
  [EMoveDirection.down]: EMoveDirection.up,
}

export const rotationTransitions: Record<
  EMoveDirection.up | EMoveDirection.down,
  Record<Rotation, Rotation>
> = {
  [EMoveDirection.up]: {
    '0': '3',
    '1': '0',
    '2': '1',
    '3': '2',
  },
  [EMoveDirection.down]: {
    '0': '1',
    '1': '2',
    '2': '3',
    '3': '0',
  },
}
